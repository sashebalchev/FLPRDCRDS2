package com.dmu.sash.flprdcrds.management;

import com.dmu.sash.flprdcrds.database.entities.Word;
import com.dmu.sash.flprdcrds.service.objects.Response;
import com.google.gson.Gson;

import org.junit.Assert;
import org.junit.Test;

import java.util.List;

public class WordDataExtractorTest {

    private static final String LEAD_JSON = "{  \"metadata\": {    \"provider\": \"Oxford University Press\"  },  \"results\": [    {      \"id\": \"lead\",      \"language\": \"en\",      \"lexicalEntries\": [        {          \"derivatives\": [            {              \"id\": \"leadable\",              \"text\": \"leadable\"            }          ],          \"entries\": [            {              \"etymologies\": [                \"Old English lǣdan, of Germanic origin; related to Dutch leiden and German leiten, also to load and lode\"              ],              \"grammaticalFeatures\": [                {                  \"text\": \"Transitive\",                  \"type\": \"Subcategorization\"                },                {                  \"text\": \"Present\",                  \"type\": \"Tense\"                }              ],              \"homographNumber\": \"100\",              \"senses\": [                {                  \"definitions\": [                    \"cause (a person or animal) to go with one by holding them by the hand, a halter, a rope, etc. while moving forward\"                  ],                  \"examples\": [                    {                      \"text\": \"she emerged leading a bay horse\"                    }                  ],                  \"id\": \"m_en_gbus0570330.011\",                  \"short_definitions\": [                    \"cause person or animal to go with one\"                  ],                  \"subsenses\": [                    {                      \"definitions\": [                        \"show (someone or something) the way to a destination by going in front of or beside them\"                      ],                      \"examples\": [                        {                          \"text\": \"she stood up and led her friend to the door\"                        }                      ],                      \"id\": \"m_en_gbus0570330.017\",                      \"notes\": [                        {                          \"text\": \"with object and adverbial of direction\",                          \"type\": \"grammaticalNote\"                        }                      ],                      \"short_definitions\": [                        \"show someone the way to destination\"                      ],                      \"thesaurusLinks\": [                        {                          \"entry_id\": \"lead\",                          \"sense_id\": \"t_en_gb0008617.004\"                        }                      ]                    }                  ],                  \"thesaurusLinks\": [                    {                      \"entry_id\": \"lead\",                      \"sense_id\": \"t_en_gb0008617.001\"                    }                  ]                },                {                  \"definitions\": [                    \"be a route or means of access to a particular place or in a particular direction\"                  ],                  \"examples\": [                    {                      \"text\": \"a farm track led off to the left\"                    },                    {                      \"text\": \"the door led to a long hallway\"                    }                  ],                  \"id\": \"m_en_gbus0570330.019\",                  \"notes\": [                    {                      \"text\": \"no object, with adverbial of direction\",                      \"type\": \"grammaticalNote\"                    },                    {                      \"text\": \"usually \\\"lead to\\\"\",                      \"type\": \"wordFormNote\"                    }                  ],                  \"short_definitions\": [                    \"be route to particular place\"                  ],                  \"subsenses\": [                    {                      \"definitions\": [                        \"be a reason or motive for (someone)\"                      ],                      \"examples\": [                        {                          \"text\": \"nothing that I have read about the case leads me to the conclusion that anything untoward happened\"                        },                        {                          \"text\": \"a fascination for art led him to start a collection of paintings\"                        }                      ],                      \"id\": \"m_en_gbus0570330.020\",                      \"notes\": [                        {                          \"text\": \"with object\",                          \"type\": \"grammaticalNote\"                        }                      ],                      \"short_definitions\": [                        \"be reason or motive for\"                      ]                    },                    {                      \"definitions\": [                        \"culminate or result in (a particular event or consequence)\"                      ],                      \"examples\": [                        {                          \"text\": \"closing the plant will lead to 300 job losses\"                        },                        {                          \"text\": \"fashioning a policy appropriate to the situation entails understanding the forces that led up to it\"                        }                      ],                      \"id\": \"m_en_gbus0570330.021\",                      \"notes\": [                        {                          \"text\": \"no object\",                          \"type\": \"grammaticalNote\"                        }                      ],                      \"short_definitions\": [                        \"culminate or result in\"                      ],                      \"thesaurusLinks\": [                        {                          \"entry_id\": \"lead\",                          \"sense_id\": \"t_en_gb0008617.003\"                        }                      ]                    }                  ],                  \"thesaurusLinks\": [                    {                      \"entry_id\": \"lead\",                      \"sense_id\": \"t_en_gb0008617.009\"                    }                  ]                },                {                  \"definitions\": [                    \"be in charge or command of\"                  ],                  \"examples\": [                    {                      \"text\": \"a military delegation was led by the Chief of Staff\"                    }                  ],                  \"id\": \"m_en_gbus0570330.023\",                  \"short_definitions\": [                    \"be in charge of\"                  ],                  \"subsenses\": [                    {                      \"definitions\": [                        \"organize and direct\"                      ],                      \"examples\": [                        {                          \"text\": \"the conference included sessions led by people with personal knowledge of the area\"                        }                      ],                      \"id\": \"m_en_gbus0570330.024\",                      \"short_definitions\": [                        \"organize and direct\"                      ]                    },                    {                      \"definitions\": [                        \"be the principal player of (a group of musicians)\"                      ],                      \"domains\": [                        \"Music\"                      ],                      \"examples\": [                        {                          \"text\": \"since the forties he has led his own big bands\"                        }                      ],                      \"id\": \"m_en_gbus0570330.025\",                      \"short_definitions\": [                        \"be principal player of\"                      ],                      \"thesaurusLinks\": [                        {                          \"entry_id\": \"lead\",                          \"sense_id\": \"t_en_gb0008617.004\"                        }                      ]                    },                    {                      \"definitions\": [                        \"set (a process) in motion\"                      ],                      \"examples\": [                        {                          \"text\": \"they are waiting for an expansion of world trade to lead a recovery\"                        }                      ],                      \"id\": \"m_en_gbus0570330.026\",                      \"short_definitions\": [                        \"set process in motion\"                      ],                      \"thesaurusLinks\": [                        {                          \"entry_id\": \"lead_the_way\",                          \"sense_id\": \"t_en_gb0008617.013\"                        }                      ]                    },                    {                      \"definitions\": [                        \"start\"                      ],                      \"examples\": [                        {                          \"text\": \"the radio news led with the murder\"                        },                        {                          \"text\": \"Ned leads off with a general survey of the objectives\"                        }                      ],                      \"id\": \"m_en_gbus0570330.027\",                      \"notes\": [                        {                          \"text\": \"no object\",                          \"type\": \"grammaticalNote\"                        },                        {                          \"text\": \"\\\"lead with\\\" or \\\"lead off with\\\"\",                          \"type\": \"wordFormNote\"                        }                      ],                      \"short_definitions\": [                        \"start\"                      ],                      \"thesaurusLinks\": [                        {                          \"entry_id\": \"lead_something_off\",                          \"sense_id\": \"t_en_gb0008617.010\"                        }                      ]                    },                    {                      \"definitions\": [                        \"make an attack with (a particular punch or fist)\"                      ],                      \"domains\": [                        \"Boxing\"                      ],                      \"examples\": [                        {                          \"text\": \"Adam led with a left\"                        }                      ],                      \"id\": \"m_en_gbus0570330.029\",                      \"notes\": [                        {                          \"text\": \"no object\",                          \"type\": \"grammaticalNote\"                        },                        {                          \"text\": \"\\\"lead with\\\"\",                          \"type\": \"wordFormNote\"                        }                      ],                      \"short_definitions\": [                        \"make attack with\"                      ]                    },                    {                      \"definitions\": [                        \"(of a base runner) be in a position to run from a base while standing off the base.\"                      ],                      \"domains\": [                        \"Baseball\"                      ],                      \"id\": \"m_en_gbus0570330.030\",                      \"notes\": [                        {                          \"text\": \"no object\",                          \"type\": \"grammaticalNote\"                        }                      ],                      \"short_definitions\": [                        \"be in position to run from base\"                      ]                    },                    {                      \"definitions\": [                        \"(in card games) play (the first card) in a trick or round of play\"                      ],                      \"domains\": [                        \"Cards\"                      ],                      \"examples\": [                        {                          \"text\": \"he led the ace and another heart\"                        }                      ],                      \"id\": \"m_en_gbus0570330.031\",                      \"short_definitions\": [                        \"play first card in trick etc.\"                      ],                      \"thesaurusLinks\": [                        {                          \"entry_id\": \"lead_something_off\",                          \"sense_id\": \"t_en_gb0008617.010\"                        }                      ]                    }                  ],                  \"thesaurusLinks\": [                    {                      \"entry_id\": \"lead\",                      \"sense_id\": \"t_en_gb0008617.005\"                    }                  ]                },                {                  \"definitions\": [                    \"have the advantage over competitors in a race or game\"                  ],                  \"domains\": [                    \"Sport\"                  ],                  \"examples\": [                    {                      \"text\": \"he followed up with a break of 105 to lead 3-0\"                    },                    {                      \"text\": \"the Wantage jockey was leading the field\"                    }                  ],                  \"id\": \"m_en_gbus0570330.033\",                  \"notes\": [                    {                      \"text\": \"no object\",                      \"type\": \"grammaticalNote\"                    }                  ],                  \"short_definitions\": [                    \"have advantage over competitors\"                  ],                  \"subsenses\": [                    {                      \"definitions\": [                        \"be superior to (competitors or colleagues)\"                      ],                      \"examples\": [                        {                          \"text\": \"there will be specific areas or skills in which other nations lead the world\"                        }                      ],                      \"id\": \"m_en_gbus0570330.034\",                      \"notes\": [                        {                          \"text\": \"with object\",                          \"type\": \"grammaticalNote\"                        }                      ],                      \"short_definitions\": [                        \"be superior to competitors etc.\"                      ],                      \"thesaurusLinks\": [                        {                          \"entry_id\": \"lead\",                          \"sense_id\": \"t_en_gb0008617.007\"                        }                      ]                    }                  ],                  \"thesaurusLinks\": [                    {                      \"entry_id\": \"lead\",                      \"sense_id\": \"t_en_gb0008617.006\"                    }                  ]                },                {                  \"definitions\": [                    \"have or experience (a particular way of life)\"                  ],                  \"examples\": [                    {                      \"text\": \"she's led a completely sheltered life\"                    }                  ],                  \"id\": \"m_en_gbus0570330.037\",                  \"short_definitions\": [                    \"have particular way of life\"                  ],                  \"thesaurusLinks\": [                    {                      \"entry_id\": \"lead\",                      \"sense_id\": \"t_en_gb0008617.008\"                    }                  ]                }              ]            }          ],          \"language\": \"en\",          \"lexicalCategory\": \"Verb\",          \"pronunciations\": [            {              \"audioFile\": \"http://audio.oxforddictionaries.com/en/mp3/lead_gb_1.mp3\",              \"dialects\": [                \"British English\"              ],              \"phoneticNotation\": \"IPA\",              \"phoneticSpelling\": \"liːd\"            }          ],          \"text\": \"lead\"        },        {          \"derivatives\": [            {              \"id\": \"leadable\",              \"text\": \"leadable\"            }          ],          \"entries\": [            {              \"grammaticalFeatures\": [                {                  \"text\": \"Singular\",                  \"type\": \"Number\"                }              ],              \"homographNumber\": \"101\",              \"pronunciations\": [                {                  \"audioFile\": \"http://audio.oxforddictionaries.com/en/mp3/lead_gb_1.mp3\",                  \"dialects\": [                    \"British English\"                  ],                  \"phoneticNotation\": \"IPA\",                  \"phoneticSpelling\": \"liːd\"                }              ],              \"senses\": [                {                  \"definitions\": [                    \"the initiative in an action; an example for others to follow\"                  ],                  \"examples\": [                    {                      \"text\": \"Britain is now taking the lead in environmental policies\"                    }                  ],                  \"id\": \"m_en_gbus0570330.040\",                  \"short_definitions\": [                    \"initiative in an action\"                  ],                  \"subsenses\": [                    {                      \"definitions\": [                        \"a piece of information that may help in the resolution of a problem\"                      ],                      \"examples\": [                        {                          \"text\": \"detectives investigating the murder are chasing new leads\"                        },                        {                          \"text\": \"I have a lead on a job that sounds really promising\"                        }                      ],                      \"id\": \"m_en_gbus0570330.043\",                      \"short_definitions\": [                        \"clue\"                      ],                      \"thesaurusLinks\": [                        {                          \"entry_id\": \"lead\",                          \"sense_id\": \"t_en_gb0008617.021\"                        }                      ]                    },                    {                      \"definitions\": [                        \"someone or something that may be useful, especially a potential customer or business opportunity\"                      ],                      \"domains\": [                        \"Commerce\"                      ],                      \"examples\": [                        {                          \"text\": \"setting up a social networking page can help you get numerous leads\"                        },                        {                          \"text\": \"the goal of marketing is to generate leads so the sales people can close them\"                        }                      ],                      \"id\": \"m_en_gbus0570330.044\",                      \"short_definitions\": [                        \"potential customer or business opportunity\"                      ]                    },                    {                      \"definitions\": [                        \"(in card games) an act or right of playing first in a trick or round of play\"                      ],                      \"domains\": [                        \"Cards\"                      ],                      \"examples\": [                        {                          \"text\": \"it's your lead\"                        }                      ],                      \"id\": \"m_en_gbus0570330.045\",                      \"short_definitions\": [                        \"right of playing first\"                      ]                    },                    {                      \"definitions\": [                        \"the card played first in a trick or round\"                      ],                      \"domains\": [                        \"Cards\"                      ],                      \"examples\": [                        {                          \"text\": \"the ♦8 was an inspired lead\"                        }                      ],                      \"id\": \"m_en_gbus0570330.046\",                      \"short_definitions\": [                        \"card played first\"                      ]                    }                  ],                  \"thesaurusLinks\": [                    {                      \"entry_id\": \"lead\",                      \"sense_id\": \"t_en_gb0008617.016\"                    }                  ]                },                {                  \"definitions\": [                    \"a position of advantage in a contest; first place\"                  ],                  \"domains\": [                    \"Sport\"                  ],                  \"examples\": [                    {                      \"text\": \"the team burst into life and took the lead\"                    },                    {                      \"text\": \"they were beaten 5-3 after twice being in the lead\"                    }                  ],                  \"id\": \"m_en_gbus0570330.048\",                  \"notes\": [                    {                      \"text\": \"\\\"the lead\\\"\",                      \"type\": \"wordFormNote\"                    }                  ],                  \"short_definitions\": [                    \"position of advantage in contest\"                  ],                  \"subsenses\": [                    {                      \"definitions\": [                        \"an amount by which a competitor is ahead of the others\"                      ],                      \"domains\": [                        \"Sport\"                      ],                      \"examples\": [                        {                          \"text\": \"the team held a slender one-goal lead\"                        }                      ],                      \"id\": \"m_en_gbus0570330.050\",                      \"short_definitions\": [                        \"amount by which competitor leads\"                      ],                      \"thesaurusLinks\": [                        {                          \"entry_id\": \"lead\",                          \"sense_id\": \"t_en_gb0008617.017\"                        }                      ]                    }                  ],                  \"thesaurusLinks\": [                    {                      \"entry_id\": \"lead\",                      \"sense_id\": \"t_en_gb0008617.022\"                    },                    {                      \"entry_id\": \"lead\",                      \"sense_id\": \"t_en_gb0008617.015\"                    }                  ]                },                {                  \"definitions\": [                    \"the chief part in a play or film\"                  ],                  \"domains\": [                    \"Film\",                    \"Theatre\"                  ],                  \"examples\": [                    {                      \"text\": \"she had the lead in a new film\"                    },                    {                      \"text\": \"the lead role\"                    }                  ],                  \"id\": \"m_en_gbus0570330.053\",                  \"short_definitions\": [                    \"chief part in play or film\"                  ],                  \"subsenses\": [                    {                      \"definitions\": [                        \"the person playing the chief part\"                      ],                      \"domains\": [                        \"Theatre\",                        \"Film\"                      ],                      \"examples\": [                        {                          \"text\": \"he still looked like a romantic lead\"                        }                      ],                      \"id\": \"m_en_gbus0570330.054\",                      \"short_definitions\": [                        \"person playing chief part\"                      ]                    },                    {                      \"definitions\": [                        \"the chief performer or instrument of a specified type\"                      ],                      \"domains\": [                        \"Music\"                      ],                      \"examples\": [                        {                          \"text\": \"a lead guitarist\"                        }                      ],                      \"id\": \"m_en_gbus0570330.055\",                      \"notes\": [                        {                          \"text\": \"usually as modifier\",                          \"type\": \"grammaticalNote\"                        }                      ],                      \"short_definitions\": [                        \"chief performer or instrument\"                      ]                    },                    {                      \"definitions\": [                        \"the item of news given the greatest prominence in a newspaper, broadcast, etc.\"                      ],                      \"domains\": [                        \"Journalism\"                      ],                      \"examples\": [                        {                          \"text\": \"the ‘pensions revolution’ is the lead in the Times\"                        },                        {                          \"text\": \"the lead story on CNN\"                        }                      ],                      \"id\": \"m_en_gbus0570330.056\",                      \"short_definitions\": [                        \"most prominent item of news\"                      ]                    },                    {                      \"definitions\": [                        \"the opening sentence or paragraph of a news article, summarizing the most important aspects of the story\"                      ],                      \"domains\": [                        \"Journalism\"                      ],                      \"examples\": [                        {                          \"text\": \"the newswire will be offering two different leads for certain stories, so editors can pick and choose\"                        }                      ],                      \"id\": \"m_en_gbus0570330.057\",                      \"regions\": [                        \"US\"                      ],                      \"short_definitions\": [                        \"lede\"                      ],                      \"variantForms\": [                        {                          \"text\": \"lede\"                        }                      ]                    }                  ],                  \"thesaurusLinks\": [                    {                      \"entry_id\": \"lead\",                      \"sense_id\": \"t_en_gb0008617.019\"                    }                  ]                },                {                  \"definitions\": [                    \"a strap or cord for restraining and guiding a dog or other domestic animal\"                  ],                  \"examples\": [                    {                      \"text\": \"the dog is our constant walking companion and is always kept on a lead\"                    }                  ],                  \"id\": \"m_en_gbus0570330.060\",                  \"regions\": [                    \"British\"                  ],                  \"short_definitions\": [                    \"strap for restraining dog\"                  ],                  \"thesaurusLinks\": [                    {                      \"entry_id\": \"lead\",                      \"sense_id\": \"t_en_gb0008617.020\"                    }                  ]                },                {                  \"definitions\": [                    \"a wire that conveys electric current from a source to an appliance, or that connects two points of a circuit together.\"                  ],                  \"domains\": [                    \"Electrical\"                  ],                  \"id\": \"m_en_gbus0570330.062\",                  \"regions\": [                    \"British\"                  ],                  \"short_definitions\": [                    \"electrical wire\"                  ]                },                {                  \"definitions\": [                    \"the distance advanced by a screw in one turn.\"                  ],                  \"domains\": [                    \"Mechanics\"                  ],                  \"id\": \"m_en_gbus0570330.064\",                  \"short_definitions\": [                    \"distance advanced by screw\"                  ]                },                {                  \"definitions\": [                    \"an artificial watercourse leading to a mill.\"                  ],                  \"id\": \"m_en_gbus0570330.066\",                  \"short_definitions\": [                    \"watercourse leading to mill\"                  ],                  \"subsenses\": [                    {                      \"definitions\": [                        \"a channel of water in an ice field.\"                      ],                      \"domains\": [                        \"Nautical\"                      ],                      \"id\": \"m_en_gbus0570330.067\",                      \"short_definitions\": [                        \"water channel in ice field\"                      ]                    }                  ]                }              ]            },            {              \"etymologies\": [                \"Old English lēad, of West Germanic origin; related to Dutch lood ‘lead’ and German Lot ‘plummet, solder’\"              ],              \"grammaticalFeatures\": [                {                  \"text\": \"Singular\",                  \"type\": \"Number\"                }              ],              \"homographNumber\": \"200\",              \"pronunciations\": [                {                  \"audioFile\": \"http://audio.oxforddictionaries.com/en/mp3/lead_gb_2.mp3\",                  \"dialects\": [                    \"British English\"                  ],                  \"phoneticNotation\": \"IPA\",                  \"phoneticSpelling\": \"lɛd\"                }              ],              \"senses\": [                {                  \"definitions\": [                    \"a soft, heavy, ductile bluish-grey metal, the chemical element of atomic number 82. It has been used in roofing, plumbing, ammunition, storage batteries, radiation shields, etc., and its compounds have been used in crystal glass, as an anti-knock agent in petrol, and (formerly) in paints.\"                  ],                  \"domains\": [                    \"Element\"                  ],                  \"id\": \"m_en_gbus0570340.006\",                  \"notes\": [                    {                      \"text\": \"mass noun\",                      \"type\": \"grammaticalNote\"                    }                  ],                  \"short_definitions\": [                    \"soft bluish-grey metal\"                  ],                  \"subsenses\": [                    {                      \"definitions\": [                        \"used figuratively as a symbol of something heavy\"                      ],                      \"examples\": [                        {                          \"text\": \"Joe's feet felt like lumps of lead\"                        }                      ],                      \"id\": \"m_en_gbus0570340.009\",                      \"short_definitions\": [                        \"used as type of something heavy\"                      ]                    }                  ],                  \"variantForms\": [                    {                      \"text\": \"Pb\"                    }                  ]                },                {                  \"definitions\": [                    \"an item or implement made of lead.\"                  ],                  \"id\": \"m_en_gbus0570340.011\",                  \"short_definitions\": [                    \"item made of lead\"                  ],                  \"subsenses\": [                    {                      \"definitions\": [                        \"sheets or strips of lead covering a roof.\"                      ],                      \"domains\": [                        \"Building\"                      ],                      \"id\": \"m_en_gbus0570340.014\",                      \"notes\": [                        {                          \"text\": \"\\\"leads\\\"\",                          \"type\": \"wordFormNote\"                        }                      ],                      \"regions\": [                        \"British\"                      ],                      \"short_definitions\": [                        \"lead covering roof\"                      ]                    },                    {                      \"definitions\": [                        \"a piece of lead-covered roof.\"                      ],                      \"id\": \"m_en_gbus0570340.016\",                      \"regions\": [                        \"British\"                      ],                      \"short_definitions\": [                        \"piece of lead-covered roof\"                      ]                    },                    {                      \"definitions\": [                        \"lead frames holding the glass of a lattice or stained-glass window.\"                      ],                      \"id\": \"m_en_gbus0570340.017\",                      \"notes\": [                        {                          \"text\": \"\\\"leads\\\"\",                          \"type\": \"wordFormNote\"                        }                      ],                      \"short_definitions\": [                        \"lead frames in window\"                      ]                    },                    {                      \"definitions\": [                        \"a lump of lead suspended on a line to determine the depth of water.\"                      ],                      \"domains\": [                        \"Nautical\"                      ],                      \"id\": \"m_en_gbus0570340.018\",                      \"short_definitions\": [                        \"lump of lead used to determine depth of water\"                      ]                    }                  ]                },                {                  \"definitions\": [                    \"graphite used as the part of a pencil that makes a mark\"                  ],                  \"examples\": [                    {                      \"text\": \"scrawls done with a bit of pencil lead\"                    }                  ],                  \"id\": \"m_en_gbus0570340.021\",                  \"notes\": [                    {                      \"text\": \"mass noun\",                      \"type\": \"grammaticalNote\"                    }                  ],                  \"short_definitions\": [                    \"graphite in pencil\"                  ]                },                {                  \"definitions\": [                    \"a blank space between lines of print.\"                  ],                  \"domains\": [                    \"Printing\"                  ],                  \"id\": \"m_en_gbus0570340.023\",                  \"short_definitions\": [                    \"space between lines of print\"                  ]                }              ]            }          ],          \"language\": \"en\",          \"lexicalCategory\": \"Noun\",          \"text\": \"lead\"        }      ],      \"type\": \"headword\",      \"word\": \"lead\"    }  ]}";
    private static final String NO_JSON = "{  \"metadata\": {    \"provider\": \"Oxford University Press\"  },  \"results\": [    {      \"id\": \"no\",      \"language\": \"en\",      \"lexicalEntries\": [        {          \"entries\": [            {              \"etymologies\": [                \"Old English nō, nā (adverb), from ne ‘not’ + ō, ā ‘ever’. The determiner arose in Middle English (originally before words beginning with any consonant except h-), reduced from non, from Old English nān (see none)\"              ],              \"homographNumber\": \"000\",              \"senses\": [                {                  \"definitions\": [                    \"not any\"                  ],                  \"examples\": [                    {                      \"text\": \"there is no excuse\"                    },                    {                      \"text\": \"no two plants are alike\"                    }                  ],                  \"id\": \"m_en_gbus0693820.005\",                  \"short_definitions\": [                    \"not any\"                  ],                  \"subsenses\": [                    {                      \"definitions\": [                        \"used to indicate that something is quite the opposite of what is being specified\"                      ],                      \"examples\": [                        {                          \"text\": \"it was no easy task persuading her\"                        },                        {                          \"text\": \"Toby is no fool\"                        }                      ],                      \"id\": \"m_en_gbus0693820.007\",                      \"short_definitions\": [                        \"quite the opposite\"                      ]                    },                    {                      \"definitions\": [                        \"hardly any\"                      ],                      \"examples\": [                        {                          \"text\": \"you'll be back in no time\"                        }                      ],                      \"id\": \"m_en_gbus0693820.008\",                      \"short_definitions\": [                        \"hardly any\"                      ]                    },                    {                      \"definitions\": [                        \"used in notices or slogans forbidding or rejecting something specified\"                      ],                      \"examples\": [                        {                          \"text\": \"No Smoking signs\"                        },                        {                          \"text\": \"no nukes\"                        }                      ],                      \"id\": \"m_en_gbus0693820.009\",                      \"short_definitions\": [                        \"forbidding or rejecting something\"                      ]                    }                  ]                }              ]            }          ],          \"language\": \"en\",          \"lexicalCategory\": \"Determiner\",          \"pronunciations\": [            {              \"audioFile\": \"http://audio.oxforddictionaries.com/en/mp3/no_gb_1.mp3\",              \"dialects\": [                \"British English\"              ],              \"phoneticNotation\": \"IPA\",              \"phoneticSpelling\": \"nəʊ\"            }          ],          \"text\": \"no\"        },        {          \"entries\": [            {              \"homographNumber\": \"001\",              \"senses\": [                {                  \"definitions\": [                    \"used to give a negative response\"                  ],                  \"examples\": [                    {                      \"text\": \"‘Is anything wrong?’ ‘No.’\"                    }                  ],                  \"id\": \"m_en_gbus0693820.021\",                  \"short_definitions\": [                    \"giving negative response\"                  ],                  \"subsenses\": [                    {                      \"definitions\": [                        \"expressing disagreement or contradiction\"                      ],                      \"examples\": [                        {                          \"text\": \"‘This is boring.’ ‘No, it's not!’\"                        }                      ],                      \"id\": \"m_en_gbus0693820.023\",                      \"short_definitions\": [                        \"expressing disagreement\"                      ]                    },                    {                      \"definitions\": [                        \"expressing agreement with or affirmation of a negative statement\"                      ],                      \"examples\": [                        {                          \"text\": \"they would never cause a fuss, oh no\"                        }                      ],                      \"id\": \"m_en_gbus0693820.024\",                      \"short_definitions\": [                        \"expressing agreement with negative statement\"                      ]                    },                    {                      \"definitions\": [                        \"expressing shock or disappointment\"                      ],                      \"examples\": [                        {                          \"text\": \"oh no, look at this!\"                        }                      ],                      \"id\": \"m_en_gbus0693820.025\",                      \"short_definitions\": [                        \"expressing shock or disappointment\"                      ]                    }                  ],                  \"thesaurusLinks\": [                    {                      \"entry_id\": \"no\",                      \"sense_id\": \"t_en_gb0010016.001\"                    }                  ]                }              ]            }          ],          \"language\": \"en\",          \"lexicalCategory\": \"Interjection\",          \"pronunciations\": [            {              \"audioFile\": \"http://audio.oxforddictionaries.com/en/mp3/no_gb_1.mp3\",              \"dialects\": [                \"British English\"              ],              \"phoneticNotation\": \"IPA\",              \"phoneticSpelling\": \"nəʊ\"            }          ],          \"text\": \"no\"        },        {          \"entries\": [            {              \"grammaticalFeatures\": [                {                  \"text\": \"Positive\",                  \"type\": \"Degree\"                }              ],              \"homographNumber\": \"002\",              \"senses\": [                {                  \"definitions\": [                    \"not at all; to no extent\"                  ],                  \"examples\": [                    {                      \"text\": \"they were no more able to perform the task than I was\"                    }                  ],                  \"id\": \"m_en_gbus0693820.028\",                  \"notes\": [                    {                      \"text\": \"with comparative\",                      \"type\": \"grammaticalNote\"                    }                  ],                  \"short_definitions\": [                    \"not at all\"                  ]                },                {                  \"definitions\": [                    \"not\"                  ],                  \"examples\": [                    {                      \"text\": \"I'll no be a minute\"                    }                  ],                  \"id\": \"m_en_gbus0693820.031\",                  \"regions\": [                    \"Scottish\"                  ],                  \"short_definitions\": [                    \"not\"                  ]                }              ]            }          ],          \"language\": \"en\",          \"lexicalCategory\": \"Adverb\",          \"pronunciations\": [            {              \"audioFile\": \"http://audio.oxforddictionaries.com/en/mp3/no_gb_1.mp3\",              \"dialects\": [                \"British English\"              ],              \"phoneticNotation\": \"IPA\",              \"phoneticSpelling\": \"nəʊ\"            }          ],          \"text\": \"no\"        },        {          \"entries\": [            {              \"grammaticalFeatures\": [                {                  \"text\": \"Singular\",                  \"type\": \"Number\"                }              ],              \"homographNumber\": \"003\",              \"senses\": [                {                  \"definitions\": [                    \"a negative answer or decision, especially in voting\"                  ],                  \"examples\": [                    {                      \"text\": \"he was unable to change his automatic yes to a no\"                    }                  ],                  \"id\": \"m_en_gbus0693820.037\",                  \"short_definitions\": [                    \"negative answer or decision\"                  ],                  \"thesaurusLinks\": [                    {                      \"entry_id\": \"thumbs_down\",                      \"sense_id\": \"t_en_gb0014861.003\"                    }                  ]                }              ]            }          ],          \"language\": \"en\",          \"lexicalCategory\": \"Noun\",          \"pronunciations\": [            {              \"audioFile\": \"http://audio.oxforddictionaries.com/en/mp3/no_gb_1.mp3\",              \"dialects\": [                \"British English\"              ],              \"phoneticNotation\": \"IPA\",              \"phoneticSpelling\": \"nəʊ\"            }          ],          \"text\": \"no\"        },        {          \"entries\": [            {              \"grammaticalFeatures\": [                {                  \"text\": \"Symbol\",                  \"type\": \"Residual\"                }              ],              \"homographNumber\": \"500\",              \"senses\": [                {                  \"definitions\": [                    \"the chemical element nobelium.\"                  ],                  \"id\": \"m_en_gbus0693850.002\",                  \"short_definitions\": [                    \"chemical element nobelium\"                  ]                }              ]            }          ],          \"language\": \"en\",          \"lexicalCategory\": \"Residual\",          \"text\": \"No\"        },        {          \"entries\": [            {              \"grammaticalFeatures\": [                {                  \"text\": \"Singular\",                  \"type\": \"Number\"                }              ],              \"homographNumber\": \"600\",              \"senses\": [                {                  \"crossReferenceMarkers\": [                    \"variant spelling of Noh\"                  ],                  \"crossReferences\": [                    {                      \"id\": \"noh\",                      \"text\": \"Noh\",                      \"type\": \"variant spelling\"                    }                  ],                  \"id\": \"m_en_gbus0693860.004\"                }              ]            }          ],          \"language\": \"en\",          \"lexicalCategory\": \"Noun\",          \"pronunciations\": [            {              \"audioFile\": \"http://audio.oxforddictionaries.com/en/mp3/no_gb_1.mp3\",              \"dialects\": [                \"British English\"              ],              \"phoneticNotation\": \"IPA\",              \"phoneticSpelling\": \"nəʊ\"            }          ],          \"text\": \"No\"        }      ],      \"type\": \"headword\",      \"word\": \"no\"    }  ]}";

    @Test
    public void extractWordsTest1() {
        Gson gson = new Gson();
        Response response = gson.fromJson(LEAD_JSON, Response.class);
        Assert.assertNotNull(response);
        WordDataExtractor wordDataExtractor = new WordDataExtractor();
        List<Word> words = wordDataExtractor.extractWords(response);
        Assert.assertNotNull(words);
        Assert.assertEquals(3, words.size());
        for (Word word : words) {
            Assert.assertEquals("lead", word.getWord());
        }
        Assert.assertEquals("http://audio.oxforddictionaries.com/en/mp3/lead_gb_1.mp3",
                words.get(0).getAudioPronunciation());
        Assert.assertEquals("http://audio.oxforddictionaries.com/en/mp3/lead_gb_1.mp3",
                words.get(1).getAudioPronunciation());
        Assert.assertEquals("http://audio.oxforddictionaries.com/en/mp3/lead_gb_2.mp3",
                words.get(2).getAudioPronunciation());

        Assert.assertEquals("cause person or animal to go with one", words.get(0).getDefinition());
        Assert.assertEquals("initiative in an action", words.get(1).getDefinition());
        Assert.assertEquals("soft bluish-grey metal", words.get(2).getDefinition());
    }

    @Test
    public void extractWordsTest2() {
        Gson gson = new Gson();
        Response response = gson.fromJson(NO_JSON, Response.class);
        Assert.assertNotNull(response);
        WordDataExtractor wordDataExtractor = new WordDataExtractor();
        List<Word> words = wordDataExtractor.extractWords(response);
        Assert.assertNotNull(words);
        Assert.assertEquals(5, words.size());
        for (Word word : words) {
            Assert.assertEquals("no", word.getWord());
            Assert.assertEquals("http://audio.oxforddictionaries.com/en/mp3/no_gb_1.mp3",
                    word.getAudioPronunciation());
        }
        Assert.assertEquals("not any", words.get(0).getDefinition());
        Assert.assertEquals("giving negative response", words.get(1).getDefinition());
        Assert.assertEquals("not at all", words.get(2).getDefinition());
        Assert.assertEquals("negative answer or decision", words.get(3).getDefinition());
        Assert.assertEquals("chemical element nobelium", words.get(4).getDefinition());
    }
}
